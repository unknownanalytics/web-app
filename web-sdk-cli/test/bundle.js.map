{"version":3,"file":"bundle.js","sources":["../src/utils.js","../src/plugins/view-manager.js","../src/main.js"],"sourcesContent":["/**\r\n *\r\n */\r\nclass Sender {\r\n\t/*\r\n\twsInstance: WebSocket = null;\r\n\tconfig: {} = null;*/\r\n\r\n\tconstructor(config) {\r\n\t\tthis.config = config;\r\n\t\t// WS is not supported\r\n\t\t/*if (!this.wsInstance) {\r\n\t\t\t\tthis.wsInstance = this._initWS();\r\n\t\t}*/\r\n\t}\r\n\r\n\t/*\r\n\t\t/!**\r\n\t\t *\r\n\t\t * @returns {null|WebSocket}\r\n\t\t *!/\r\n\t\t_initWS() {\r\n\t\t\tif (\"WebSocket\" in window) {\r\n\t\t\t\t// Let us open a web socket\r\n\t\t\t\tlet ws = new WebSocket(config.pushURL);\r\n\r\n\t\t\t\tws.onopen = () => {\r\n\t\t\t\t\tconsole.log(\"cnx\");\r\n\t\t\t\t};\r\n\r\n\t\t\t\tws.onmessage = (evt) => {\r\n\t\t\t\t\tconsole.log(\"Message received\");\r\n\t\t\t\t};\r\n\t\t\t\tws.onclose = () => {\r\n\t\t\t\t\tconsole.log(\"cnx closed\");\r\n\t\t\t\t};\r\n\t\t\t\tws.onerror = () => {\r\n\t\t\t\t\tconsole.log(\"onerror\");\r\n\t\t\t\t};\r\n\t\t\t\treturn ws;\r\n\t\t\t} else {\r\n\t\t\t\t// The browser doesn't support WebSocket\r\n\t\t\t\tconsole.warn(\"WebSocket NOT supported by your Browser!\");\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}*/\r\n\r\n\t/**\r\n\t * @param args {XHRArgs}\r\n\t * @private\r\n\t */\r\n\t_sendXHR(args) {\r\n\t\tlet xhr = new XMLHttpRequest();\r\n\t\tlet config = this.config;\r\n\t\t// : 'bearer ' + config.token\r\n\t\txhr.open(args.method, args.url, true);\r\n\t\tlet headers = args.headers || {};\r\n\t\tfor (let key in headers) {\r\n\t\t\txhr.setRequestHeader(key, headers[key]);\r\n\t\t}\r\n\r\n\t\t// Avoid the preflight request\r\n\t\t//xhr.setRequestHeader('Authorization', config.token);\r\n\t\tif (!headers['Content-type']) {\r\n\t\t\txhr.setRequestHeader(\"Content-Type\", \"text/plain\");\r\n\t\t}\r\n\t\tlet data = args.data || null;\r\n\t\tif (!data.token) {\r\n\t\t\tdata.token = config.token;\r\n\t\t}\r\n\t\tif (typeof (data) !== \"string\") {\r\n\t\t\tdata = JSON.stringify(data);\r\n\t\t}\r\n\t\t// catch the callback\r\n\t\txhr.onreadystatechange = function () {\r\n\t\t\tif (xhr.readyState === 4) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet response = JSON.parse(xhr.responseText);\r\n\t\t\t\t\tif (xhr.status === 200 && response.status === 'OK') {\r\n\t\t\t\t\t\tif (args.onSuccess) {\r\n\t\t\t\t\t\t\targs.onSuccess(response);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log('successful');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (args.onError) {\r\n\t\t\t\t\t\t\targs.onError(response);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.error('failed to execute ');\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(xhr.status)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\txhr.send(data || null);\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param args\r\n\t */\r\n\t_sendRequest(args) {\r\n\t\tconsole.log(args);\r\n\t\targs = args || {};\r\n\t\tif (!args.method) {\r\n\t\t\targs.method = 'GET';\r\n\t\t}\r\n\t\t// check if is async mode\r\n\t\tif (args.sync) {\r\n\t\t\tthis._sendXHR(args);\r\n\t\t} else {\r\n\t\t\t// do not block the app\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis._sendXHR(args);\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param args\r\n\t * @returns {boolean}\r\n\t */\r\n\tpush(args) {\r\n\t\t/*// WS not supported yet\r\n\t\tif (this.wsInstance) {\r\n\t\t\tlet data = args.data;\r\n\t\t\tdata.endpoint = endpoint;\r\n\t\t\tdata = JSON.stringify(args.data);\r\n\t\t\tthis.wsInstance.send(data);\r\n\t\t\treturn true;\r\n\t\t}*/\r\n\t\targs = args || {};\r\n\t\targs.method = 'POST';\r\n\t\targs.url = this.config.apiURL;\r\n\t\tthis._sendRequest(args);\r\n\t}\r\n}\r\n\r\n/**\r\n *\r\n * @type {{getBrowserParams(): *, sendXHR(*=): void, _sendXHR(*): void, parse(String): (*|*|*), postXHR(*=): void, utm(*=): *}}\r\n */\r\nconst Utils = {\r\n\t/**\r\n\t * Parse the given query `str`.\r\n\t *\r\n\t * @param {String} str\r\n\t * @return {Object}\r\n\t * @api public\r\n\t */\r\n\tparse(str) {\r\n\t\tfunction decode(str) {\r\n\t\t\ttry {\r\n\t\t\t\treturn decodeURIComponent(str.replace(/\\+/g, ' '));\r\n\t\t\t} catch (e) {\r\n\t\t\t\treturn str;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet pattern = /(\\w+)\\[(\\d+)\\]/;\r\n\t\tif ('string' != typeof str) return {};\r\n\t\tstr = str.trim();\r\n\t\tif ('' === str) return {};\r\n\t\tif ('?' === str.charAt(0)) str = str.slice(1);\r\n\r\n\t\tlet obj = {};\r\n\t\tlet pairs = str.split('&');\r\n\t\tfor (let i = 0; i < pairs.length; i++) {\r\n\t\t\tlet parts = pairs[i].split('=');\r\n\t\t\tlet key = decode(parts[0]);\r\n\t\t\tlet m;\r\n\t\t\tif (m = pattern.exec(key)) {\r\n\t\t\t\tobj[m[1]] = obj[m[1]] || [];\r\n\t\t\t\tobj[m[1]][m[2]] = decode(parts[1]);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tobj[parts[0]] = null == parts[1]\r\n\t\t\t\t\t? ''\r\n\t\t\t\t\t: decode(parts[1]);\r\n\t\t}\r\n\t\treturn obj;\r\n\t},\r\n\t/**\r\n\t * Utm parsing\r\n\t * @param query\r\n\t */\r\n\tutm(query) {\r\n\t\t// Remove leading ? if present\r\n\t\tif (query.charAt(0) === '?') {\r\n\t\t\tquery = query.substring(1);\r\n\t\t}\r\n\t\tquery = query.replace(/\\?/g, '&');\r\n\t\tlet param;\r\n\t\tlet params = Utils.parse(query);\r\n\t\tlet results = {};\r\n\t\tfor (let key in params) {\r\n\t\t\tif (Object.hasOwnProperty.call(params, key)) {\r\n\t\t\t\tif (key.substr(0, 4) === 'utm_') {\r\n\t\t\t\t\tparam = key.substr(4);\r\n\t\t\t\t\tif (param === 'campaign') param = 'name';\r\n\t\t\t\t\tresults[param] = params[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn results;\r\n\t},\r\n\t/**\r\n\t * @returns {BrowserParams}\r\n\t *  The browser information\r\n\t */\r\n\tgetBrowserParams() {\r\n\t\treturn {\r\n\t\t\t// user agent\r\n\t\t\tua: navigator.userAgent,\r\n\t\t\t// window width\r\n\t\t\tww: window.innerWidth,\r\n\t\t\t// window height\r\n\t\t\twh: window.innerHeight\r\n\t\t}\r\n\t},\r\n\t/**\r\n\t * Get array approximately the size of array\r\n\t */\r\n\tgetArraySize(array) {\r\n\t\treturn (JSON.stringify(array).replace(/[\\[\\]\\,\\\"]/g, '')).length;\r\n\t},\r\n};\r\n\r\nexport {Sender, Utils};\r\n","import {Utils} from \"../utils\";\r\n\r\nconst VIEW = 'view';\r\n\r\n/**\r\n *\r\n */\r\nclass PageViewManager {\r\n\t/*\r\n\tsender: Sender = null;\r\n\toptions: null;\r\n\t*/\r\n\r\n\r\n\t/**\r\n\t *\r\n\t * @param options\r\n\t * @param sender\r\n\t */\r\n\tconstructor(options, sender) {\r\n\t\tthis.options = options;\r\n\t\tthis.sender = sender;\r\n\t\tlet eventType = 'pushState';\r\n\t\t(function (history) {\r\n\t\t\tvar pushState = history.pushState;\r\n\t\t\thistory.pushState = function (state) {\r\n\t\t\t\tif (typeof history.onpushstate == \"function\") {\r\n\t\t\t\t\thistory.onpushstate({state: state});\r\n\t\t\t\t}\r\n\t\t\t\tvar event = new Event(eventType);\r\n\t\t\t\tevent.arguments = arguments;\r\n\t\t\t\twindow.dispatchEvent(event);\r\n\t\t\t\t// ... whatever else you want to do\r\n\t\t\t\t// maybe call onhashchange e.handler\r\n\t\t\t\treturn pushState.apply(history, arguments);\r\n\t\t\t};\r\n\t\t})(window.history);\r\n\r\n\t\t// Now we can listen for pushState events and keep the original feature of the browser working\r\n\t\twindow.addEventListener(eventType, this.handleUrl.bind(this));\r\n\r\n\t\t// init first call\r\n\t\tthis.fireFirstEvent();\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t */\r\n\tfireFirstEvent() {\r\n\t\tthis.handleUrl();\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t */\r\n\thandleUrl(event) {\r\n\t\tlet location = document.location;\r\n\t\tlet href = location.href;\r\n\t\tif (!(location.hostname === 'localhost' || location.origin.startsWith('https'))) {\r\n\t\t\treturn console.error('only https is allowed');\r\n\t\t}\r\n\t\tlet data = Object.assign({}, {full_url: href}, {utm: Utils.utm(href)});\r\n\t\tthis.push(data);\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t */\r\n\tpush(body) {\r\n\t\tbody = Object.assign({}, body, {browser: Utils.getBrowserParams()});\r\n\t\tthis.sender.push({data: body, type: VIEW})\r\n\t}\r\n}\r\n\r\nexport default PageViewManager;\r\n","/**\r\n *\r\n */\r\nimport PageViewManager from './plugins/view-manager';\r\n//import EventManager from './plugins/event-manger';\r\n//import ErrorManager from './plugins/error-manger';\r\nimport {Sender} from './utils' ;\r\n\r\n\r\n/**\r\n *\r\n * @type {{agent: string, ui: {w: number, h: number}}}\r\n */\r\nlet config = {\r\n\tapiURL: 'SDK_API_HOST',\r\n\tversion: 'SDK_VERSION',\r\n\twsURL: 'PUSH_URL',\r\n\ttoken: null\r\n};\r\n/**\r\n *\r\n * @param token\r\n * @param options\r\n */\r\nwindow.unkAnalytics = function (token, options) {\r\n\tconfig.token = token;\r\n\tlet sender = new Sender(config);\r\n\tnew PageViewManager(options, sender);\r\n\t//new EventManager(options, sender);\r\n\t//new ErrorManager(options, sender);\r\n};\r\nwindow.unkAnalytics.version = config.version;\r\n"],"names":[],"mappings":"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"}